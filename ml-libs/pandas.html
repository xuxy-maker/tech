
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pandas &#8212; ml-libs  文档</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/translations.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"processEscapes": true, "processClass": "math|output_area", "inlineMath": [["$", "$"], ["\\(", "\\)"]], "ignoreClass": "document"}})</script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="scikit-learn" href="scikit-learn.html" />
    <link rel="prev" title="matplotlib" href="matplotlib.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>ml-libs  文档</span></a></h1>
        <h2 class="heading"><span>pandas</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="matplotlib.html">matplotlib</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">目录</a>
        &#160;&#160;::&#160;&#160;
        <a href="scikit-learn.html">scikit-learn</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="pandas">
<h1>pandas<a class="headerlink" href="#pandas" title="永久链接至标题">¶</a></h1>
<p>pandas: Python Data Analysis Library</p>
<p>pandas常用于数据分析的预处理中。</p>
<p><img alt="pandas" src="_images/news012_00.jpg" /></p>
<p>习惯上，以名称pd导入。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="section" id="下载道琼斯平均指数数据">
<h2>下载道琼斯平均指数数据<a class="headerlink" href="#下载道琼斯平均指数数据" title="永久链接至标题">¶</a></h2>
<p>在美国Yahoo的Finance上，下载道琼斯平均指数数据。</p>
<p>打开<a class="reference external" href="https://finance.yahoo.com/quote/%5EDJI/history?period1=1483196400&amp;period2=1514646000&amp;interval=1d&amp;filter=history&amp;frequency=1d">道琼斯平均指数</a>链接，将显示2017年的数据。下载「^DJI.csv」文件。</p>
<p>## 装载csv数据</p>
<p>把下载的csv文件，放到与此演示程序相同的路径下，使用load_csv加载文件。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;^DJI.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="head:-显示数据开头部分">
<h3>head: 显示数据开头部分<a class="headerlink" href="#head:-显示数据开头部分" title="永久链接至标题">¶</a></h3>
<p>文件数据量大时，可用head只显示数行文件内容。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2017-01-03</td>
      <td>19872.859375</td>
      <td>19938.529297</td>
      <td>19775.929688</td>
      <td>19881.759766</td>
      <td>19881.759766</td>
      <td>339180000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2017-01-04</td>
      <td>19890.939453</td>
      <td>19956.140625</td>
      <td>19878.830078</td>
      <td>19942.160156</td>
      <td>19942.160156</td>
      <td>280010000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2017-01-05</td>
      <td>19924.560547</td>
      <td>19948.599609</td>
      <td>19811.119141</td>
      <td>19899.289063</td>
      <td>19899.289063</td>
      <td>269920000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2017-01-06</td>
      <td>19906.960938</td>
      <td>19999.630859</td>
      <td>19834.080078</td>
      <td>19963.800781</td>
      <td>19963.800781</td>
      <td>277700000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2017-01-09</td>
      <td>19931.410156</td>
      <td>19943.779297</td>
      <td>19887.380859</td>
      <td>19887.380859</td>
      <td>19887.380859</td>
      <td>287510000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="DataFrame">
<h3>DataFrame<a class="headerlink" href="#DataFrame" title="永久链接至标题">¶</a></h3>
<p>　数据类型是DataFrame。pandas最核心的就是Series和DataFrame两个数据结构，序列Series是一维的，DataFrame是2维的。</p>
<p>数据中最上一行是标题，左边一列是添加的索引。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">dow</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pandas.core.frame.DataFrame
</pre></div></div>
</div>
</div>
<div class="section" id="指定索引列">
<h3>指定索引列<a class="headerlink" href="#指定索引列" title="永久链接至标题">¶</a></h3>
<p>　上图中，索引是自动添加的，也可以通过程序指定索引，数据中的Date是时间序列值，在通常的运用中，常作为索引使用。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;^DJI.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-01-03</th>
      <td>19872.859375</td>
      <td>19938.529297</td>
      <td>19775.929688</td>
      <td>19881.759766</td>
      <td>19881.759766</td>
      <td>339180000</td>
    </tr>
    <tr>
      <th>2017-01-04</th>
      <td>19890.939453</td>
      <td>19956.140625</td>
      <td>19878.830078</td>
      <td>19942.160156</td>
      <td>19942.160156</td>
      <td>280010000</td>
    </tr>
    <tr>
      <th>2017-01-05</th>
      <td>19924.560547</td>
      <td>19948.599609</td>
      <td>19811.119141</td>
      <td>19899.289063</td>
      <td>19899.289063</td>
      <td>269920000</td>
    </tr>
    <tr>
      <th>2017-01-06</th>
      <td>19906.960938</td>
      <td>19999.630859</td>
      <td>19834.080078</td>
      <td>19963.800781</td>
      <td>19963.800781</td>
      <td>277700000</td>
    </tr>
    <tr>
      <th>2017-01-09</th>
      <td>19931.410156</td>
      <td>19943.779297</td>
      <td>19887.380859</td>
      <td>19887.380859</td>
      <td>19887.380859</td>
      <td>287510000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>此处的索引是日期。</p>
</div>
<div class="section" id="describe:-查看简单的统计信息">
<h3>describe: 查看简单的统计信息<a class="headerlink" href="#describe:-查看简单的统计信息" title="永久链接至标题">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>251.000000</td>
      <td>251.000000</td>
      <td>251.000000</td>
      <td>251.000000</td>
      <td>251.000000</td>
      <td>2.510000e+02</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>21740.383163</td>
      <td>21797.332934</td>
      <td>21688.730772</td>
      <td>21750.203748</td>
      <td>21750.203748</td>
      <td>3.112414e+08</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1321.640122</td>
      <td>1324.098035</td>
      <td>1322.991591</td>
      <td>1322.007879</td>
      <td>1322.007879</td>
      <td>6.933510e+07</td>
    </tr>
    <tr>
      <th>min</th>
      <td>19794.679688</td>
      <td>19824.140625</td>
      <td>19677.939453</td>
      <td>19732.400391</td>
      <td>19732.400391</td>
      <td>1.186100e+08</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>20825.545899</td>
      <td>20854.230468</td>
      <td>20740.179688</td>
      <td>20811.280274</td>
      <td>20811.280274</td>
      <td>2.695850e+08</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>21434.679688</td>
      <td>21492.619141</td>
      <td>21390.000000</td>
      <td>21414.339844</td>
      <td>21414.339844</td>
      <td>2.996700e+08</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>22418.745117</td>
      <td>22489.445312</td>
      <td>22386.275390</td>
      <td>22485.094726</td>
      <td>22485.094726</td>
      <td>3.389950e+08</td>
    </tr>
    <tr>
      <th>max</th>
      <td>24849.630859</td>
      <td>24876.070313</td>
      <td>24797.130859</td>
      <td>24837.509766</td>
      <td>24837.509766</td>
      <td>6.357400e+08</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>数据依次是数据数量、平均值、标准偏差、最小值、25％、50％、75％、最大值。</p>
</div>
</div>
<div class="section" id="数据提取">
<h2>数据提取<a class="headerlink" href="#数据提取" title="永久链接至标题">¶</a></h2>
<p>　一维Series数据，提取开盘价。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow_open</span> <span class="o">=</span> <span class="n">dow</span><span class="p">[</span><span class="s2">&quot;Open&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow_open</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Date
2017-01-03    19872.859375
2017-01-04    19890.939453
2017-01-05    19924.560547
2017-01-06    19906.960938
2017-01-09    19931.410156
Name: Open, dtype: float64
</pre></div></div>
</div>
<p>数据类型是不同的，我们可以查证一下。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">dow_open</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pandas.core.series.Series
</pre></div></div>
</div>
<div class="section" id="从DataFrame中抽取多列">
<h3>从DataFrame中抽取多列<a class="headerlink" href="#从DataFrame中抽取多列" title="永久链接至标题">¶</a></h3>
<p>　在[]中指定列名抽取相应的列。此时，返回类型还是DataFrame。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow_high_low</span> <span class="o">=</span> <span class="n">dow</span><span class="p">[[</span><span class="s2">&quot;High&quot;</span><span class="p">,</span> <span class="s2">&quot;Low&quot;</span><span class="p">]]</span>
<span class="n">dow_high_low</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>High</th>
      <th>Low</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-01-03</th>
      <td>19938.529297</td>
      <td>19775.929688</td>
    </tr>
    <tr>
      <th>2017-01-04</th>
      <td>19956.140625</td>
      <td>19878.830078</td>
    </tr>
    <tr>
      <th>2017-01-05</th>
      <td>19948.599609</td>
      <td>19811.119141</td>
    </tr>
    <tr>
      <th>2017-01-06</th>
      <td>19999.630859</td>
      <td>19834.080078</td>
    </tr>
    <tr>
      <th>2017-01-09</th>
      <td>19943.779297</td>
      <td>19887.380859</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="指定条件行抽取">
<h3>指定条件行抽取<a class="headerlink" href="#指定条件行抽取" title="永久链接至标题">¶</a></h3>
<p>　提取高点在$24,000以上的数据。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dow</span><span class="p">[</span><span class="n">dow</span><span class="p">[</span><span class="s2">&quot;High&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">24000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-11-30</th>
      <td>24013.800781</td>
      <td>24327.820313</td>
      <td>24013.800781</td>
      <td>24272.349609</td>
      <td>24272.349609</td>
      <td>488200000</td>
    </tr>
    <tr>
      <th>2017-12-01</th>
      <td>24305.400391</td>
      <td>24322.060547</td>
      <td>23921.900391</td>
      <td>24231.589844</td>
      <td>24231.589844</td>
      <td>417910000</td>
    </tr>
    <tr>
      <th>2017-12-04</th>
      <td>24424.109375</td>
      <td>24534.039063</td>
      <td>24288.189453</td>
      <td>24290.050781</td>
      <td>24290.050781</td>
      <td>424250000</td>
    </tr>
    <tr>
      <th>2017-12-05</th>
      <td>24335.009766</td>
      <td>24349.740234</td>
      <td>24155.279297</td>
      <td>24180.640625</td>
      <td>24180.640625</td>
      <td>371190000</td>
    </tr>
    <tr>
      <th>2017-12-06</th>
      <td>24171.900391</td>
      <td>24229.349609</td>
      <td>24134.490234</td>
      <td>24140.910156</td>
      <td>24140.910156</td>
      <td>312720000</td>
    </tr>
    <tr>
      <th>2017-12-07</th>
      <td>24116.599609</td>
      <td>24262.880859</td>
      <td>24101.240234</td>
      <td>24211.480469</td>
      <td>24211.480469</td>
      <td>319060000</td>
    </tr>
    <tr>
      <th>2017-12-08</th>
      <td>24263.259766</td>
      <td>24330.119141</td>
      <td>24225.500000</td>
      <td>24329.160156</td>
      <td>24329.160156</td>
      <td>293590000</td>
    </tr>
    <tr>
      <th>2017-12-11</th>
      <td>24338.109375</td>
      <td>24389.720703</td>
      <td>24314.740234</td>
      <td>24386.029297</td>
      <td>24386.029297</td>
      <td>300580000</td>
    </tr>
    <tr>
      <th>2017-12-12</th>
      <td>24452.960938</td>
      <td>24552.970703</td>
      <td>24443.830078</td>
      <td>24504.800781</td>
      <td>24504.800781</td>
      <td>342220000</td>
    </tr>
    <tr>
      <th>2017-12-13</th>
      <td>24525.189453</td>
      <td>24666.019531</td>
      <td>24518.300781</td>
      <td>24585.429688</td>
      <td>24585.429688</td>
      <td>325280000</td>
    </tr>
    <tr>
      <th>2017-12-14</th>
      <td>24631.009766</td>
      <td>24672.480469</td>
      <td>24508.660156</td>
      <td>24508.660156</td>
      <td>24508.660156</td>
      <td>314780000</td>
    </tr>
    <tr>
      <th>2017-12-15</th>
      <td>24585.710938</td>
      <td>24688.619141</td>
      <td>24584.439453</td>
      <td>24651.740234</td>
      <td>24651.740234</td>
      <td>635740000</td>
    </tr>
    <tr>
      <th>2017-12-18</th>
      <td>24739.560547</td>
      <td>24876.070313</td>
      <td>24739.560547</td>
      <td>24792.199219</td>
      <td>24792.199219</td>
      <td>354880000</td>
    </tr>
    <tr>
      <th>2017-12-19</th>
      <td>24834.380859</td>
      <td>24850.109375</td>
      <td>24715.599609</td>
      <td>24754.750000</td>
      <td>24754.750000</td>
      <td>335330000</td>
    </tr>
    <tr>
      <th>2017-12-20</th>
      <td>24838.089844</td>
      <td>24852.439453</td>
      <td>24697.109375</td>
      <td>24726.650391</td>
      <td>24726.650391</td>
      <td>341790000</td>
    </tr>
    <tr>
      <th>2017-12-21</th>
      <td>24778.259766</td>
      <td>24850.910156</td>
      <td>24766.269531</td>
      <td>24782.289063</td>
      <td>24782.289063</td>
      <td>339530000</td>
    </tr>
    <tr>
      <th>2017-12-22</th>
      <td>24764.039063</td>
      <td>24784.150391</td>
      <td>24717.509766</td>
      <td>24754.060547</td>
      <td>24754.060547</td>
      <td>255140000</td>
    </tr>
    <tr>
      <th>2017-12-26</th>
      <td>24715.839844</td>
      <td>24778.130859</td>
      <td>24708.419922</td>
      <td>24746.210938</td>
      <td>24746.210938</td>
      <td>208290000</td>
    </tr>
    <tr>
      <th>2017-12-27</th>
      <td>24766.519531</td>
      <td>24789.519531</td>
      <td>24731.679688</td>
      <td>24774.300781</td>
      <td>24774.300781</td>
      <td>225890000</td>
    </tr>
    <tr>
      <th>2017-12-28</th>
      <td>24807.210938</td>
      <td>24839.230469</td>
      <td>24797.130859</td>
      <td>24837.509766</td>
      <td>24837.509766</td>
      <td>200960000</td>
    </tr>
    <tr>
      <th>2017-12-29</th>
      <td>24849.630859</td>
      <td>24871.660156</td>
      <td>24719.220703</td>
      <td>24719.220703</td>
      <td>24719.220703</td>
      <td>270760000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="loc：指定标签，iloc：指定位置">
<h3>loc：指定标签，iloc：指定位置<a class="headerlink" href="#loc：指定标签，iloc：指定位置" title="永久链接至标题">¶</a></h3>
<p>　制作演示数据。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.548814</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.423655</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.963663</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.568045</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.020218</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.978618</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.118274</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.521848</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>通过loc，指定行列提取。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>0.925597</td>
      <td>0.071036</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.832620</td>
      <td>0.778157</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.799159</td>
      <td>0.461479</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>此处，提取index3～5、B列、C列数据。 使用loc时，索引对于3:5是3～5，而使用iloc则为3:5，索引为3和4。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>0.925597</td>
      <td>0.071036</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.832620</td>
      <td>0.778157</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="数据加工">
<h2>数据加工<a class="headerlink" href="#数据加工" title="永久链接至标题">¶</a></h2>
<p>将C列和D列的和添加到E列。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;E&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.548814</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.423655</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.963663</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.568045</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.020218</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.978618</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.118274</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.521848</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>A列用B列的二倍值覆盖</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.291788</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.766883</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="使用at、iat操作单元格">
<h3>使用at、iat操作单元格<a class="headerlink" href="#使用at、iat操作单元格" title="永久链接至标题">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.766883</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-1.000000</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="缺失值的处理方式">
<h2>缺失值的处理方式<a class="headerlink" href="#缺失值的处理方式" title="永久链接至标题">¶</a></h2>
<p>　缺失值是数据分析中的一个常见问题。制作数据。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;F&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-1.000000</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>F列中反映了None，pandas中缺失值表记为NaN。</p>
<div class="section" id="dropna:-忽略缺失值">
<h3>dropna: 忽略缺失值<a class="headerlink" href="#dropna:-忽略缺失值" title="永久链接至标题">¶</a></h3>
<p>　利用方法dropna，忽略缺失值</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="fillna:-设定缺失值">
<h3>fillna: 设定缺失值<a class="headerlink" href="#fillna:-设定缺失值" title="永久链接至标题">¶</a></h3>
<p>此处，将缺失值设置为0。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-1.000000</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="dropna/fillna并未改动原始数据">
<h3>dropna/fillna并未改动原始数据<a class="headerlink" href="#dropna/fillna并未改动原始数据" title="永久链接至标题">¶</a></h3>
<p>　dropna和fillna都不是破坏性操作（原始值不会被重写）。这是原始数据内容。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-1.000000</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="汇总计算">
<h2>汇总计算<a class="headerlink" href="#汇总计算" title="永久链接至标题">¶</a></h2>
<div class="section" id="mean:-平均值-/std:-标准偏差">
<h3>mean: 平均值 /std: 标准偏差<a class="headerlink" href="#mean:-平均值-/std:-标准偏差" title="永久链接至标题">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
A    0.831787
B    0.669560
C    0.443832
D    0.677766
E    1.121598
F    1.000000
dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
A    1.170553
B    0.192464
C    0.272506
D    0.283482
E    0.432834
F    0.000000
dtype: float64
</pre></div></div>
</div>
</div>
<div class="section" id="通过apply，指定任意函数">
<h3>通过apply，指定任意函数<a class="headerlink" href="#通过apply，指定任意函数" title="永久链接至标题">¶</a></h3>
<p>　通过apply，可以指定任意函数，下面是计算各列最大值和最小值之间的差。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
A    2.851193
B    0.542155
C    0.720689
D    0.857540
E    1.490004
F    0.000000
dtype: float64
</pre></div></div>
</div>
</div>
<div class="section" id="group">
<h3>group<a class="headerlink" href="#group" title="永久链接至标题">¶</a></h3>
<p>添加G列分组。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
      <th>G</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.430379</td>
      <td>0.715189</td>
      <td>0.602763</td>
      <td>0.544883</td>
      <td>1.147647</td>
      <td>1.0</td>
      <td>X</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.000000</td>
      <td>0.645894</td>
      <td>0.437587</td>
      <td>0.891773</td>
      <td>1.329360</td>
      <td>NaN</td>
      <td>X</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-1.000000</td>
      <td>0.383442</td>
      <td>0.791725</td>
      <td>0.528895</td>
      <td>1.320620</td>
      <td>NaN</td>
      <td>Y</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.851193</td>
      <td>0.925597</td>
      <td>0.071036</td>
      <td>0.087129</td>
      <td>0.158165</td>
      <td>1.0</td>
      <td>Y</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.665240</td>
      <td>0.832620</td>
      <td>0.778157</td>
      <td>0.870012</td>
      <td>1.648169</td>
      <td>NaN</td>
      <td>Z</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.598317</td>
      <td>0.799159</td>
      <td>0.461479</td>
      <td>0.780529</td>
      <td>1.242009</td>
      <td>NaN</td>
      <td>X</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.279842</td>
      <td>0.639921</td>
      <td>0.143353</td>
      <td>0.944669</td>
      <td>1.088022</td>
      <td>NaN</td>
      <td>Z</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.829324</td>
      <td>0.414662</td>
      <td>0.264556</td>
      <td>0.774234</td>
      <td>1.038789</td>
      <td>NaN</td>
      <td>Y</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>把G列的值作为关键字进行分组统计。等效于SQL的GROUP BY。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
    <tr>
      <th>G</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>X</th>
      <td>2.028696</td>
      <td>2.160242</td>
      <td>1.501830</td>
      <td>2.217185</td>
      <td>3.719015</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Y</th>
      <td>1.680517</td>
      <td>1.723700</td>
      <td>1.127317</td>
      <td>1.390258</td>
      <td>2.517575</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Z</th>
      <td>2.945082</td>
      <td>1.472541</td>
      <td>0.921510</td>
      <td>1.814681</td>
      <td>2.736191</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>求和sum计算的结果。分组键缺省处理是建立索引的。</p>
<p>不想作为索引时，使用as_index=false 指定</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>G</th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>X</td>
      <td>0.676232</td>
      <td>0.720081</td>
      <td>0.500610</td>
      <td>0.739062</td>
      <td>1.239672</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Y</td>
      <td>0.560172</td>
      <td>0.574567</td>
      <td>0.375772</td>
      <td>0.463419</td>
      <td>0.839192</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Z</td>
      <td>1.472541</td>
      <td>0.736270</td>
      <td>0.460755</td>
      <td>0.907341</td>
      <td>1.368096</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>　此时，G列是作为通常列进行处理的。</p>
</div>
</div>
<div class="section" id="数据的连接/组合">
<h2>数据的连接/组合<a class="headerlink" href="#数据的连接/组合" title="永久链接至标题">¶</a></h2>
<p>首先，准备数据。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">])</span>
<span class="n">df1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.943748</td>
      <td>0.681820</td>
      <td>0.359508</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">])</span>
<span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.128926</td>
      <td>0.315428</td>
      <td>0.363711</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="concat:-垂直串联">
<h3>concat: 垂直串联<a class="headerlink" href="#concat:-垂直串联" title="永久链接至标题">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>
<span class="n">df3</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.943748</td>
      <td>0.681820</td>
      <td>0.359508</td>
    </tr>
    <tr>
      <th>0</th>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.128926</td>
      <td>0.315428</td>
      <td>0.363711</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="reset_index:-重置索引">
<h3>reset_index: 重置索引<a class="headerlink" href="#reset_index:-重置索引" title="永久链接至标题">¶</a></h3>
<p>虽然串接了，但索引看起来奇怪。重新编制索引，如下：</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df3</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.943748</td>
      <td>0.681820</td>
      <td>0.359508</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.128926</td>
      <td>0.315428</td>
      <td>0.363711</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>drop=True， 表示丢弃旧索引。</p>
</div>
<div class="section" id="merge:-数据结合">
<h3>merge: 数据结合<a class="headerlink" href="#merge:-数据结合" title="永久链接至标题">¶</a></h3>
<p>相当于SQL中的join操作，先在数据中添加结合键数据。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df1</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">]</span>
<span class="n">df2</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
      <td>B</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.943748</td>
      <td>0.681820</td>
      <td>0.359508</td>
      <td>D</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
      <td>B</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.128926</td>
      <td>0.315428</td>
      <td>0.363711</td>
      <td>C</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A_x</th>
      <th>B_x</th>
      <th>C_x</th>
      <th>D</th>
      <th>A_y</th>
      <th>B_y</th>
      <th>C_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
      <td>A</td>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
      <td>B</td>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>以D列为key，结合符合条件的A，B两列。相当于SQL的内部结合。</p>
<p>外部结合</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A_x</th>
      <th>B_x</th>
      <th>C_x</th>
      <th>D</th>
      <th>A_y</th>
      <th>B_y</th>
      <th>C_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.456150</td>
      <td>0.568434</td>
      <td>0.018790</td>
      <td>A</td>
      <td>0.437032</td>
      <td>0.697631</td>
      <td>0.060225</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.617635</td>
      <td>0.612096</td>
      <td>0.616934</td>
      <td>B</td>
      <td>0.666767</td>
      <td>0.670638</td>
      <td>0.210383</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.943748</td>
      <td>0.681820</td>
      <td>0.359508</td>
      <td>D</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>相当于SQL中的“Left out join”，没有相应df2行时，使用缺失值填充。</p>
</div>
</div>
<div class="section" id="values:-转换为数组类型">
<h2>values: 转换为数组类型<a class="headerlink" href="#values:-转换为数组类型" title="永久链接至标题">¶</a></h2>
<p>　DataFrame类型数据的各种处理方法，在机器学习的数据预处理时简洁方便。 预处理之后的各种机器学习算法中，通常使用NumPy数组更方便。此时，可使用valuese进行转换。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df3</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[0.45615033, 0.56843395, 0.0187898 ],
       [0.6176355 , 0.61209572, 0.616934  ],
       [0.94374808, 0.6818203 , 0.3595079 ],
       [0.43703195, 0.6976312 , 0.06022547],
       [0.66676672, 0.67063787, 0.21038256],
       [0.1289263 , 0.31542835, 0.36371077]])
</pre></div></div>
</div>
<p>从A，B和C列取值。构成NumPy可以处理的2维数组。</p>
</div>
<div class="section" id="从数据加载开始学习">
<h2>从数据加载开始学习<a class="headerlink" href="#从数据加载开始学习" title="永久链接至标题">¶</a></h2>
<p>　上面，介绍了pandas中最基本的功能。pandas功能很多，熟练后能提高处理效率。有关详细信息，请参阅官方网站。</p>
<p>对于初学者来说，可能不容易上手，从DataLoader开始，逐渐适应不失是个办法。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="matplotlib.html">matplotlib</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">目录</a>
        &#160;&#160;::&#160;&#160;
        <a href="scikit-learn.html">scikit-learn</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; 版权所有 2020, xu.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>